---
title: SPEC-SCR-B02 申請作成
description: ワークフロー申請の新規作成画面仕様
---

## 目的 / In-Out / Related
- **目的**: ユーザーが業務申請（経費・休暇・購入等）を作成して送信する
- **対象範囲（In/Out）**: 申請フォーム入力・バリデーション・送信。添付ファイルを含む
- **Related**: REQ-B01 / SPEC-API-B02 / DD-DB-workflows

## 画面情報
- **画面ID**: SPEC-SCR-B02
- **画面名**: 申請作成
- **対象ロール**: Member, PM, Accounting
- **URL**: `/workflows/new`
- **状態**: Draft

## 主要ユースケース
- ユーザーが申請種別を選択し、必要事項を入力して送信する

## UI構成（概要）
- **申請種別セレクタ**: 経費申請 / 休暇申請 / 購入申請 / その他
- **フォーム**: 種別に応じた動的フォーム
- **承認者選択**: プルダウン（Approverロールのユーザー一覧）
- **添付ファイル**: ドラッグ&ドロップエリア（最大5ファイル、10MB/ファイル）
- **アクションボタン**: 「下書き保存」/「送信」

## 入力項目
|項目|型|必須|バリデーション|備考|
|---|---|---:|---|---|
| 申請種別 | select | ✅ | 定義済み種別から選択 | — |
| タイトル | text | ✅ | 1〜100文字 | — |
| 説明 | textarea | — | 最大2000文字 | — |
| 金額 | number | 種別依存 | 0以上、小数2桁まで | 経費申請時のみ |
| 期間 | daterange | 種別依存 | 開始≤終了 | 休暇申請時のみ |
| 承認者 | select | ✅ | Approverロールのユーザー | — |
| 添付ファイル | file | — | 5ファイル×10MB | 画像/PDF |

## 振る舞い・遷移
- 正常系（下書き）: 保存 → 申請一覧（SCR-B01）へ遷移、トースト「下書き保存しました」
- 正常系（送信）: 送信 → 承認者に通知 → 申請一覧へ遷移、トースト「申請を送信しました」
- 異常系: バリデーション失敗 → フィールドごとにエラー表示
- 権限エラー時: ロール不足 → `/unauthorized` リダイレクト

## エラー/例外
- ファイルサイズ超過: 「10MBを超えるファイルはアップロードできません」
- 承認者未選択: 「承認者を選択してください」
- ネットワークエラー: 入力内容は保持したままリトライ可能

## 監査ログポイント
- `workflow.create`: 下書き保存時
- `workflow.submit`: 送信時

## 関連リンク
- Related: REQ-B01 / SPEC-SCR-B01 / SPEC-SCR-B03 / SPEC-API-B02
